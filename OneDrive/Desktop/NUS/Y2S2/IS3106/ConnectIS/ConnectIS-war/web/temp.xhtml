<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <head>
        <title>Simple Dropdown Test</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css"/>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    </head>
    <body>
        <h:form>
            <div class="dropdown">
                <i class="bi bi-three-dots-vertical" style="cursor: pointer;" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="#">Edit Post</a>
                    <a class="dropdown-item" href="#">Delete Post</a>
                </div>
            </div>
        </h:form>
    </body>
</html>

<h:form id="replyCommentForm" styleClass="form-horizontal">
    <div class="input-group mb-3">
        <h:inputTextarea id="replyCommentContent" value="#{commentManagedBean.newReply.content}"
                         styleClass="form-control"
                         a:placeholder="Write a reply..." 
                         title="Write a reply"
                         style="margin-right: 10px;"/>
        <div class="input-group-append">
            <h:commandButton value="Reply" action="#{commentManagedBean.replyToComment}"
                             styleClass="btn btn-primary" />
        </div>
    </div>
    <div class="custom-control custom-switch">
        <h:selectBooleanCheckbox id="replyAnonymitySwitch" value="#{commentManagedBean.newReply.anonymous}" 
                                 styleClass="custom-control-input" />
        <h:outputLabel for="replyAnonymitySwitch" styleClass="custom-control-label">Reply Anonymously</h:outputLabel>
    </div>
</h:form>


<h:panelGroup id="replyCommentPanel" styleClass="form-horizontal" style="display:none;">
    <div class="input-group mb-3">
        <h:inputTextarea id="replyCommentContent" value="#{commentManagedBean.newReply.content}"
                         styleClass="form-control"
                         a:placeholder="Write a reply..." 
                         title="Write a reply"/>
        <div class="input-group-append">
            <h:commandButton value="Reply" action="#{commentManagedBean.replyToComment}"
                             styleClass="btn btn-primary">
                <f:ajax execute="@form" render=":commentsContainer" />
            </h:commandButton>
            <h:commandButton value="Cancel" type="button"
                             styleClass="btn btn-secondary"
                             onclick="document.getElementById('replyCommentPanel').style.display = 'none'; return false;"/>
        </div>
    </div>
    <div class="custom-control custom-switch">
        <h:selectBooleanCheckbox id="replyAnonymitySwitch" value="#{commentManagedBean.newReply.anonymous}" 
                                 styleClass="custom-control-input" />
        <h:outputLabel for="replyAnonymitySwitch" styleClass="custom-control-label">Reply Anonymously</h:outputLabel>
    </div>
</h:panelGroup>


<h:commandButton value="Reply" styleClass="btn btn-reply"
                 action="#{commentManagedBean.setActiveCommentId(comment.id)}">
    <f:ajax render=":j_idt31:j_idt55:#{status.index}:replyFormPanel" />
    <f:param name="commentIndex" value="#{status.index}" />
</h:commandButton>
<h:inputHidden id="commentIndex" value="#{commentManagedBean.commentIndex}" />